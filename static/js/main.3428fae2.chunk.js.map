{"version":3,"sources":["Spotify-API.js","App.js","index.js"],"names":["SpotifyAPI","token","Object","classCallCheck","this","fetch","headers","Authorization","concat","then","res","json","timeRange","arguments","length","undefined","SpotifyInfo","_React$useState3","React","useState","Cookies","get","slicedToArray","_React$useState5","_React$useState6","profileImage","setProfileImage","_React$useState7","_React$useState8","profileName","setProfileName","_React$useState9","_React$useState10","profileURL","setProfileURL","_React$useState11","_React$useState12","shortTermTracks","setShortTermTracks","_React$useState13","_React$useState14","shortTermArtists","setShortTermArtists","_React$useState15","_React$useState16","mediumTermTracks","setMediumTermTracks","_React$useState17","_React$useState18","mediumTermArtists","setMediumTermArtists","_React$useState19","_React$useState20","longTermTracks","setLongTermTracks","_React$useState21","_React$useState22","longTermArtists","setLongTermArtists","useEffect","api","getProfile","images","url","display_name","external_urls","spotify","getTopTracks","items","getTopArtists","react_default","a","createElement","className","src","alt","href","target","esm","map","track","key","id","onClick","openURI","uri","album","name","artist","window","location","App","_React$useState","_React$useState2","setToken","index_modern","clientID","redirectUri","scopes","Scopes","userReadEmail","userReadPrivate","userTopRead","onAccessToken","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.3428fae2.chunk.js","sourcesContent":["class SpotifyAPI {\r\n    constructor(token) {\r\n        this.token = token;\r\n    }\r\n\r\n    getProfile() {\r\n        return fetch(`https://api.spotify.com/v1/me`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.token}`\r\n            }\r\n        }).then(res => res.json());\r\n    }\r\n\r\n    getTopTracks(timeRange = 'short_term') {\r\n        return fetch(`https://api.spotify.com/v1/me/top/tracks?limit=50&time_range=${timeRange}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.token}`\r\n            }\r\n        }).then(res => res.json());\r\n    }\r\n\r\n    getTopArtists(timeRange = 'short_term') {\r\n        return fetch(`https://api.spotify.com/v1/me/top/artists?limit=50&time_range=${timeRange}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.token}`\r\n            }\r\n        }).then(res => res.json());\r\n    }\r\n}\r\n\r\nexport default SpotifyAPI;","import React from 'react'\nimport { SpotifyAuth, Scopes } from 'react-spotify-auth';\nimport 'react-spotify-auth/dist/index.css';\nimport Cookies from 'js-cookie'\nimport SpotifyAPI from './Spotify-API'\nimport './App.css';\n\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport 'react-tabs/style/react-tabs.css';\n\nfunction App() {\n  \n  const [token, setToken] = React.useState(Cookies.get(\"spotifyAuthToken\"))\n\n  return (\n    <div className=\"App\">\n      {token ? (\n        <SpotifyInfo/>\n        \n      ) : (\n        //SHOW LOGIN \n        <SpotifyAuth\n          clientID='0166a2461c6c4692b5dbb305776488d4'\n          redirectUri='https://jacoba2000.github.io/Spotify-Uncovered/'\n          scopes={\n            [\n              Scopes.userReadEmail, \n              Scopes.userReadPrivate,\n              Scopes.userTopRead\n            ]\n          }\n        \n          onAccessToken={(token) => setToken(token)}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction SpotifyInfo() {\n\n  const [token] = React.useState(Cookies.get(\"spotifyAuthToken\"))\n\n  const [profileImage, setProfileImage] = React.useState('')\n  const [profileName, setProfileName] = React.useState('')\n  const [profileURL, setProfileURL] = React.useState('')\n  const [shortTermTracks, setShortTermTracks] = React.useState([])\n  const [shortTermArtists, setShortTermArtists] = React.useState([])\n  const [mediumTermTracks, setMediumTermTracks] = React.useState([])\n  const [mediumTermArtists, setMediumTermArtists] = React.useState([])\n  const [longTermTracks, setLongTermTracks] = React.useState([])\n  const [longTermArtists, setLongTermArtists] = React.useState([])\n\n  const getTopTracks = (api, term) => {\n    let termTracksObj = api.getTopTracks(term)\n\n    termTracksObj.then(res => {\n      return res.items\n    })\n  }\n\n  const getTopArtists = (api, term) => {\n    let termArtistsObj = api.getTopArtists('short_term')\n\n    termArtistsObj.then(res => {\n      return res.items\n    })\n  }\n    \n  //GET SPOTIFY TOP TRACKS FOR CURRENT USER VIA THE GIVEN TOKEN ENSURING ONLY 1 FETCH IS SENT\n  React.useEffect(() => {\n    if(token) {\n      let api = new SpotifyAPI(token)\n\n      let profileObj = api.getProfile()\n\n      profileObj.then(res => {\n        setProfileImage(res.images[0].url)\n        setProfileName(res.display_name)\n        setProfileURL(res.external_urls.spotify)\n      })\n\n      //GET SHORT TERM TOP TRACKS AND ARTISTS\n      let shortTermTracksObj = api.getTopTracks('short_term')\n\n      shortTermTracksObj.then(res => {\n        setShortTermTracks(res.items)\n      })\n\n      let shortTermArtistsObj = api.getTopArtists('short_term')\n\n      shortTermArtistsObj.then(res => {\n        setShortTermArtists(res.items)\n      })\n\n      //GET MEDIUM TERM TOP TRACKS AND ARTISTS\n      let mediumTermTracksObj = api.getTopTracks('medium_term')\n\n      mediumTermTracksObj.then(res => {\n        setMediumTermTracks(res.items)\n      })\n\n      let mediumTermArtistsObj = api.getTopArtists('medium_term')\n\n      mediumTermArtistsObj.then(res => {\n        setMediumTermArtists(res.items)\n      })\n\n      //GET LONG TERM TOP TRACKS AND ARTISTS\n      let longTermTracksObj = api.getTopTracks('long_term')\n\n      longTermTracksObj.then(res => {\n        setLongTermTracks(res.items)\n      })\n\n      let longTermArtistsObj = api.getTopArtists('long_term')\n\n      longTermArtistsObj.then(res => {\n        setLongTermArtists(res.items)\n      })\n\n\n    }\n  }, [token])\n\n  return (\n    <div>\n      <div className=\"profile\">\n        <img className=\"profile-img\" src={profileImage} alt={profileName}/>\n        <p className=\"profile-name\">{profileName}</p>\n        <a className=\"profile-url\"href={profileURL} target=\"_blank\">View Profile on Spotify</a>\n      </div>\n\n      <Tabs>\n        <TabList>\n          <Tab>Last Month</Tab>\n          <Tab>Last 6 Months</Tab>\n          <Tab>All-time</Tab>\n        </TabList>\n\n        {/* SHORT TERM */}\n        <TabPanel>\n          <h2>Top Tracks</h2>\n          <ul className=\"track-list\">\n            {shortTermTracks.map(track => (\n              <li className=\"track-list-item\" key={track.id} onClick={() => openURI(track.uri)}>\n                <div className=\"track-info\">\n                  <img className=\"track-img\" src={track.album.images[0].url} alt={track.name}/>\n                  <p className=\"track-name\">{track.name}</p>\n                </div>\n              </li>\n            ))}\n          </ul>\n\n          <h2>Top Artists</h2>\n          <ul className=\"artist-list\">\n            {shortTermArtists.map(artist => (\n              <li className=\"artist-list-item\" key={artist.id} onClick={() => openURI(artist.uri)}>\n                <div className=\"artist-info\">\n                  <img className=\"artist-img\" src={artist.images[0].url} alt={artist.name}/>\n                  <p className=\"artist-name\">{artist.name}</p>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </TabPanel>\n        \n        {/* MEDIUM TERM */}\n        <TabPanel>\n          <h2>Top Tracks</h2>\n          <ul className=\"track-list\">\n            {mediumTermTracks.map(track => (\n              <li className=\"track-list-item\" key={track.id} onClick={() => openURI(track.uri)}>\n                <div className=\"track-info\">\n                  <img className=\"track-img\" src={track.album.images[0].url} alt={track.name}/>\n                  <p className=\"track-name\">{track.name}</p>\n                </div>\n              </li>\n            ))}\n          </ul>\n\n          <h2>Top Artists</h2>\n          <ul className=\"artist-list\">\n            {mediumTermArtists.map(artist => (\n              <li className=\"artist-list-item\" key={artist.id} onClick={() => openURI(artist.uri)}>\n                <div className=\"artist-info\">\n                  <img className=\"artist-img\" src={artist.images[0].url} alt={artist.name}/>\n                  <p className=\"artist-name\">{artist.name}</p>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </TabPanel>\n        \n        {/* LONG TERM */}\n        <TabPanel>\n          <h2>Top Tracks</h2>\n          <ul className=\"track-list\">\n            {longTermTracks.map(track => (\n              <li className=\"track-list-item\" key={track.id} onClick={() => openURI(track.uri)}>\n                <div className=\"track-info\">\n                  <img className=\"track-img\" src={track.album.images[0].url} alt={track.name}/>\n                  <p className=\"track-name\">{track.name}</p>\n                </div>\n              </li>\n            ))}\n          </ul>\n\n          <h2>Top Artists</h2>\n          <ul className=\"artist-list\">\n            {longTermArtists.map(artist => (\n              <li className=\"artist-list-item\" key={artist.id} onClick={() => openURI(artist.uri)}>\n                <div className=\"artist-info\">\n                  <img className=\"artist-img\" src={artist.images[0].url} alt={artist.name}/>\n                  <p className=\"artist-name\">{artist.name}</p>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </TabPanel>\n\n      </Tabs>\n\n    </div>\n\n  )\n}\n\nfunction openURI(uri) {\n  window.location = uri\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);"],"sourceRoot":""}